// 将键绑定放在此文件中以覆盖默认值auto[]
[
  // ================================================================
  // 基础通用 | Basic
  // ================================================================
  // 打开当前文件所在访达位置（需要聚焦文件）
  {
    "key": "cmd+shift+r",
    "command": "revealFileInOS",
    "when": "!editorFocus"
  },
  {
    "key": "cmd+[",
    "command": "workbench.action.navigateBack"
  },
  {
    "key": "cmd+]",
    "command": "workbench.action.navigateForward"
  },
  // 打开一个新窗口
  {
    "key": "cmd+ctrl+n",
    "command": "workbench.action.newWindow"
  },
  // 选择最近的文件工作区
  {
    "key": "cmd+r",
    "command": "workbench.action.openRecent"
  },
  // 在不同的组件之间进行跳转/聚焦
  // vim 的方式
  // {
  //   "key": "cmd+shift+h",
  //   "command": "vim.remap",
  //   "when": "vim.mode == 'Normal'",
  //   "args": {
  //     "after": ["<c-w>", "h"]
  //   }
  // },
  // 只能在编辑区聚焦
  // {
  //   "key": "cmd+shift+h",
  //   "command": "workbench.action.focusLeftGroupWithoutWrap"
  // },
  // {
  //   "key": "cmd+shift+l",
  //   "command": "workbench.action.focusRightGroupWithoutWrap"
  // },
  {
    "key": "cmd+shift+h",
    "command": "workbench.action.navigateLeft"
  },
  {
    "key": "cmd+shift+l",
    "command": "workbench.action.navigateRight"
  },
  {
    "key": "cmd+shift+k",
    "command": "workbench.action.navigateUp"
  },
  {
    "key": "cmd+shift+j",
    "command": "workbench.action.navigateDown"
  },
  // 从任意地方聚焦到终端
  {
    "key": "cmd+shift+\\",
    "command": "workbench.action.terminal.focus"
  },
  // 单独给终端设置的, 可以从终端返回 editor 中而不关闭终端
  {
    "key": "cmd+shift+k",
    "command": "workbench.action.navigateUp",
    "when": "terminal.active && terminalFocus"
  },
  // 切换侧边栏是否可见
  // {
  //   "key": "cmd+n",
  //   "command": "workbench.action.toggleSidebarVisibility"
  // },
  // 左侧文件管理面板显示
  {
    "key": "cmd+shift+;",
    "command": "workbench.view.explorer",
    "when": "viewContainer.workbench.view.explorer.enabled"
  },
  // project-manager: 我发现了 ctrl+r 来操作项目管理的方式更爽
  // {
  //   "key": "ctrl+'",
  //   "command": "workbench.view.extension.project-manager"
  // },
  {
    "key": "cmd+shift+f",
    "command": "workbench.action.findInFiles"
  },
  // 替换单个文件匹配
  {
    "key": "shift+cmd+enter",
    "command": "search.action.replace",
    "when": "isEditableItem && matchFocus && replaceActive && searchViewletVisible"
  },
  // gitlens
  {
    "key": "cmd+shift+g",
    "command": "workbench.view.scm",
    "when": "workbench.scm.active"
  },

  // ================================================================
  // file
  // ================================================================
  // 在文件管理器中搜索
  {
    "key": "/",
    "command": "list.find",
    "when": "listFocus && listSupportsFind && !inputFocus"
  },
  // 新建文件/文件夹
  // NOTE: 去掉了 !explorerResourceIsRoot 达到了在资源管理器根目录中新建的功能，不知道可能会有什么隐患，先观望一下
  {
    "key": "cmd+n",
    "command": "explorer.newFile"
    // "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "a",
    "command": "explorer.newFile",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "shift+a",
    "command": "explorer.newFolder",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceReadonly && !inputFocus"
  },
  // 重命名/删除
  {
    "key": "r",
    "command": "renameFile",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "d",
    "command": "deleteFile",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceReadonly && !inputFocus"
  },

  // ================================================================
  // 标签 | Tab
  // ================================================================
  // 将当前 tab 移动到左/右边编辑组中 | << and >>
  {
    "key": "cmd+shift+, cmd+shift+,",
    "command": "workbench.action.moveEditorToPreviousGroup"
  },
  {
    "key": "cmd+shift+. cmd+shift+.",
    "command": "workbench.action.moveEditorToNextGroup"
  },
  // 切换左右 tab
  // {
  //   "key": "shift+cmd+;",
  //   "command": "workbench.action.previousEditor"
  // },
  // {
  //   "key": "shift+cmd+'",
  //   "command": "workbench.action.nextEditor"
  // },

  // ================================================================
  // 编辑器 | Editor
  // ================================================================
  {
    "key": "cmd+g",
    "command": "editor.action.startFindReplaceAction",
    "when": "editorFocus || editorIsOpen"
  },
  // 垂直分屏
  // {
  //   "key": "cmd+shift+\\",
  //   "command": "workbench.action.splitEditorToBelowGroup"
  // },
  // 替换当前行和上/下行
  {
    "key": "alt+k",
    "command": "editor.action.moveLinesUpAction",
    "when": "editorTextFocus && !editorReadonly"
  },
  {
    "key": "alt+j",
    "command": "editor.action.moveLinesDownAction",
    "when": "editorTextFocus && !editorReadonly"
  },
  {
    "key": "cmd+8",
    "command": "editor.action.marker.next",
    "when": "editorFocus"
  },
  {
    "key": "cmd+shift+8",
    "command": "editor.action.marker.prev",
    "when": "editorFocus"
  },

  // ================================================================
  // 终端 | terminal
  // ================================================================
  // 创建终端 | 水平方向
  {
    "key": "cmd+d",
    "command": "workbench.action.terminal.split",
    "when": "terminalFocus && terminalProcessSupported || terminalFocus && terminalWebExtensionContributedProfile"
  },
  // 创建终端 | 垂直方向
  {
    "key": "cmd+shift+n",
    "command": "workbench.action.terminal.new",
    "when": "terminalProcessSupported || terminalWebExtensionContributedProfile"
  },
  {
    "key": "cmd+shift+d",
    "command": "workbench.action.terminal.new",
    "when": "terminalFocus && terminalProcessSupported || terminalWebExtensionContributedProfile"
  },
  // 创建终端（为当前编辑区聚焦文件的位置）
  {
    "key": "ctrl+`",
    "command": "openInTerminal"
  },
  // 关闭终端
  // NOTE: 没猜错的话应该就是这个快捷键被我在终端误触了之后以为是终端的异常闪退, 还花了好久找问题, 麻了, 现在关了, 后续观察下是否还会出现
  // NOTE: 后续补充，没出现过这个问题了，就是这个导致的，慎用
  // {
  //   "key": "cmd+w",
  //   "command": "workbench.action.terminal.kill",
  //   "when": "terminalFocus"
  // },
  // 最大化终端
  {
    "key": "cmd+shift+enter",
    "command": "workbench.action.toggleMaximizedPanel",
    "when": "terminalFocus"
  },
  // 上下拉伸终端 | 原本快捷键是编辑器整体放大缩小, 被我禁用了
  {
    "key": "cmd+shift+-",
    "command": "workbench.action.terminal.resizePaneDown",
    // 聚焦在底部面板的位置就行
    "when": "panelFocus"
    // "when": "terminalFocus && terminalHasBeenCreated || terminalFocus && terminalProcessSupported"
  },
  {
    "key": "cmd+shift+=",
    "command": "workbench.action.terminal.resizePaneUp",
    "when": "panelFocus"
    // "when": "terminalFocus && terminalHasBeenCreated || terminalFocus && terminalProcessSupported"
  },
  // 在不同的终端之间进行聚焦
  // 左右
  {
    "key": "cmd+shift+h",
    "command": "workbench.action.terminal.focusPreviousPane",
    "when": "terminalFocus && terminalHasBeenCreated || terminalFocus && terminalProcessSupported"
  },
  {
    "key": "cmd+shift+l",
    "command": "workbench.action.terminal.focusNextPane",
    "when": "terminalFocus && terminalHasBeenCreated || terminalFocus && terminalProcessSupported"
  },
  // 上下
  // hint: 还是使用 cmd + shift + [] 切换吧, 这个快捷键按起来怪怪的
  // {
  //   "key": "cmd+shift+;",
  //   "command": "workbench.action.terminal.focusPrevious",
  //   "when": "terminalFocus && terminalHasBeenCreated && !terminalEditorFocus || terminalFocus && terminalProcessSupported && !terminalEditorFocus"
  // },
  // {
  //   "key": "cmd+shift+'",
  //   "command": "workbench.action.terminal.focusNext",
  //   "when": "terminalFocus && terminalHasBeenCreated && !terminalEditorFocus || terminalFocus && terminalProcessSupported && !terminalEditorFocus"
  // },
  // 上/下滚动终端内容
  {
    "key": "alt+j",
    "command": "workbench.action.terminal.scrollDown",
    "when": "terminalFocus"
  },
  {
    "key": "alt+k",
    "command": "workbench.action.terminal.scrollUp",
    "when": "terminalFocus"
  },

  // setting default
  {
    "key": "alt+cmd+h",
    "command": "-rest-client.history"
  },
  {
    "key": "ctrl+f",
    "command": "-cursorRight",
    "when": "textInputFocus"
  },
  {
    "key": "ctrl+f",
    "command": "-extension.vim_ctrl+f",
    "when": "editorTextFocus && vim.active && vim.use<C-f> && !inDebugRepl && vim.mode != 'Insert'"
  },
  {
    "key": "ctrl+cmd+f",
    "command": "-workbench.action.toggleFullScreen",
    "when": "!isIOS"
  },
  {
    "key": "ctrl+f",
    "command": "workbench.view.search",
    "when": "workbench.view.search.active && neverMatch =~ /doesNotMatch/"
  },
  {
    "key": "ctrl+f",
    "command": "workbench.action.terminal.searchWorkspace",
    "when": "terminalFocus && terminalProcessSupported && terminalTextSelected"
  },

  // disable setting
  {
    "key": "shift+cmd+f",
    "command": "-workbench.view.search",
    "when": "workbench.view.search.active && neverMatch =~ /doesNotMatch/"
  },
  {
    "key": "shift+cmd+f",
    "command": "-workbench.action.terminal.searchWorkspace",
    "when": "terminalFocus && terminalProcessSupported && terminalTextSelected"
  },
  {
    "key": "shift+cmd+f",
    "command": "-workbench.action.findInFiles"
  },
  {
    "key": "shift+cmd+h",
    "command": "-workbench.action.replaceInFiles"
  },
  {
    "key": "ctrl+`",
    "command": "-workbench.action.terminal.toggleTerminal",
    "when": "terminal.active"
  },
  {
    "key": "ctrl+k",
    "command": "-deleteAllRight",
    "when": "textInputFocus && !editorReadonly"
  },
  {
    "key": "shift+cmd+=",
    "command": "-workbench.action.zoomIn"
  },
  {
    "key": "shift+cmd+-",
    "command": "-workbench.action.zoomOut"
  },
  {
    "key": "cmd+-",
    "command": "-workbench.action.zoomOut"
  },
  {
    "key": "cmd+=",
    "command": "-workbench.action.zoomIn"
  },
  {
    "key": "shift+cmd+\\",
    "command": "-editor.action.jumpToBracket",
    "when": "editorTextFocus"
  },
  {
    "key": "ctrl+r",
    "command": "-shell.runCommand"
  },
  {
    "key": "ctrl+o",
    "command": "-lineBreakInsert",
    "when": "textInputFocus && !editorReadonly"
  },
  {
    "key": "alt+cmd+f",
    "command": "-editor.action.startFindReplaceAction",
    "when": "editorFocus || editorIsOpen"
  },
  {
    "key": "shift+cmd+1",
    "command": "-search.action.replace",
    "when": "isEditableItem && matchFocus && replaceActive && searchViewletVisible"
  },
  {
    "key": "alt+cmd+up",
    "command": "-extension.vim_cmd+alt+up",
    "when": "editorTextFocus && vim.active && !inDebugRepl"
  },
  {
    "key": "alt+cmd+down",
    "command": "-extension.vim_cmd+alt+down",
    "when": "editorTextFocus && vim.active && !inDebugRepl"
  },
  {
    "key": "cmd+n",
    "command": "-workbench.action.files.newUntitledFile"
  }
]
